{% load ui_filters %}
<div class="text-xs font-semibold text-base-content/70 mb-1.5 px-1">Read by</div>
{% for r in readers %}
  <div class="flex items-center gap-2 py-1 px-1 rounded hover:bg-base-200">
    {% include "ui/partials/user_avatar.html" with user=r.user size="2xs" show_presence=False %}
    <span class="text-xs font-medium truncate flex-1">{{ r.user.username }}</span>
    <span class="text-[0.6rem] text-base-content/40 flex-shrink-0">{{ r.read_at|localtime_tag }}</span>
  </div>
{% empty %}
  <div class="text-xs text-base-content/40 px-1 py-1">No one yet</div>
{% endfor %}
{% if not_read %}
  <div class="text-[0.6rem] text-base-content/30 mt-1.5 mb-0.5 px-1">Not yet</div>
  {% for nr in not_read %}
    <div class="flex items-center gap-2 py-1 px-1 opacity-40">
      {% include "ui/partials/user_avatar.html" with user=nr.user size="2xs" show_presence=False %}
      <span class="text-xs truncate">{{ nr.user.username }}</span>
    </div>
  {% endfor %}
{% endif %}
