{% comment %}
  Reusable breadcrumbs component
  Usage: pass a `breadcrumbs` list in context. Each item is a dict with keys:
    - label (required): text to display
    - url (optional): if provided, renders as a link
    - code (optional bool): if true, wraps label in <code>
    - icon (optional): lucide icon name to display before the label
    - icon_color (optional): CSS class for icon color (e.g., 'text-warning')

  Optional context:
    - x_target: Alpine AJAX target id for links (enables SPA-like navigation)
    - x_target_history: "push" or "replace" to update browser history when navigating
    - collapse: if True, collapse middle items into a dropdown when over threshold
    - collapse_after: number of items before collapsing (default: 4)
    - separator: "chevron" (default), "slash", "dot" or "arrow"

  Example:
    {% include "ui/partials/breadcrumbs.html" with breadcrumbs=breadcrumbs x_target="content" %}
    {% include "ui/partials/breadcrumbs.html" with breadcrumbs=breadcrumbs collapse=True collapse_after=3 separator="slash" %}
{% endcomment %}
{% if separator == "slash" %}{% with sep_class="bc-sep-slash" %}{% include "ui/partials/_breadcrumbs_inner.html" %}{% endwith %}{% elif separator == "dot" %}{% with sep_class="bc-sep-dot" %}{% include "ui/partials/_breadcrumbs_inner.html" %}{% endwith %}{% elif separator == "arrow" %}{% with sep_class="bc-sep-arrow" %}{% include "ui/partials/_breadcrumbs_inner.html" %}{% endwith %}{% else %}{% with sep_class="" %}{% include "ui/partials/_breadcrumbs_inner.html" %}{% endwith %}{% endif %}
