{% load avatar_tags %}
<div id="user-card-{{ card_user.id }}">
<div class="p-3 w-64">
  <div class="flex items-center gap-3 mb-2">
    {% include "ui/partials/user_avatar.html" with user=card_user size="md" %}
    <div class="min-w-0 flex-1">
      <div class="font-semibold text-sm truncate">
        {% if card_user.first_name or card_user.last_name %}
          {{ card_user.first_name }} {{ card_user.last_name }}
        {% else %}
          {{ card_user.username }}
        {% endif %}
      </div>
      <div class="text-xs text-base-content/50 truncate">@{{ card_user.username }}</div>
    </div>
  </div>

  <div class="space-y-1 text-xs text-base-content/60 mb-3">
    {% if card_user.email %}
    <div class="flex items-center gap-1.5 truncate">
      <i data-lucide="mail" class="w-3 h-3 flex-shrink-0"></i>
      <span class="truncate">{{ card_user.email }}</span>
    </div>
    {% endif %}
    <div class="flex items-center gap-1.5">
      <i data-lucide="calendar" class="w-3 h-3 flex-shrink-0"></i>
      <span>Joined {{ card_user.date_joined|date:"N j, Y" }}</span>
    </div>
    {% if card_user.is_superuser %}
    <span class="badge badge-sm badge-primary gap-1">
      <i data-lucide="shield" class="w-2.5 h-2.5"></i>
      Admin
    </span>
    {% elif card_user.is_staff %}
    <span class="badge badge-sm badge-secondary gap-1">
      <i data-lucide="briefcase" class="w-2.5 h-2.5"></i>
      Staff
    </span>
    {% endif %}
  </div>

  <a href="{% url 'users_ui:profile_by_username' card_user.username %}" class="btn btn-ghost btn-xs btn-block gap-1">
    <i data-lucide="user" class="w-3 h-3"></i>
    View profile
  </a>
</div>
</div>
